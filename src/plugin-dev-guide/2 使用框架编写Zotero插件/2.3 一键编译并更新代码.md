---
title: ä¸€é”®ç¼–è¯‘å¹¶æ›´æ–°ä»£ç 
date: 2023-08-26 10:06:59
updated: 2023-07-20 16:51:54
---
2.3 ä¸€é”®ç¼–è¯‘å¹¶æ›´æ–°ä»£ç 

ç”±äºZoteroæ’ä»¶ä¸æ”¯æŒçƒ­é‡è½½ï¼ˆåœ¨ä¸é‡å¯Zoteroçš„æƒ…å†µä¸‹æ›´æ–°ä»£ç ï¼‰ï¼Œç¬¬ä¸€ç« ä¸­ä»‹ç»çš„ä¼ ç»Ÿæ–¹å¼ï¼ˆç›´æ¥ä¿®æ”¹JSä»£ç ï¼‰æ¯æ¬¡ä¿®æ”¹ä»£ç åéƒ½éœ€è¦æ‰‹åŠ¨é‡å¯Zoteroä»¥åº”ç”¨æ›´æ”¹ã€‚

ä¸ºäº†æé«˜å¼€å‘æ•ˆç‡ï¼Œå‡å°‘ä¸å¿…è¦çš„é‡å¤æ“ä½œï¼Œæ’ä»¶æ¡†æ¶é…ç½®äº†è„šæœ¬ç”¨äºä¸€é”®ç¼–è¯‘å¹¶æ›´æ–°ä»£ç ã€‚

æœ¬èŠ‚å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨è¯¥ç‰¹æ€§ã€‚

ğŸ’¡ä¸ºäº†æ–¹ä¾¿è°ƒè¯•å¹¶åŠæ—¶æµ‹è¯•Zoteroæ–°åŠŸèƒ½ï¼Œå»ºè®®ä½¿ç”¨Betaç‰ˆæœ¬Zoteroè¿›è¡Œå¼€å‘ã€‚ä¸‹ä¸€èŠ‚ä»‹ç»çš„æµè§ˆå™¨å¼€å‘è€…å·¥å…·è°ƒè¯•ä¹Ÿéœ€è¦Betaç‰ˆæœ¬ã€‚

è¯·åœ¨https://www.zotero.org/support/beta_buildsä¸‹è½½ã€‚Windowså¼€å‘è€…å¯ä¸‹è½½zipç‰ˆæœ¬ï¼Œè§£å‹ç¼©åå³å¯ä½¿ç”¨ï¼Œä¸ä¼šå°†æ­£å¼ç‰ˆè¦†ç›–ã€‚

# é…ç½®Zoteroå¯åœå‘½ä»¤

æ ¹æ®æœ¬åœ°Zoteroå®‰è£…è·¯å¾„çš„ä¸åŒï¼Œéœ€è¦è®¾ç½®å¯åœZoteroçš„å‘½ä»¤ã€‚è¿™åªéœ€è¦æ“ä½œä¸€æ¬¡ã€‚

1.  æ‹·è´`zotero-cmd-default.json`å¹¶å‘½åä¸º`zotero-cmd.json`ï¼Œæˆ–åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œï¼š

```
cp zotero-cmd-default.json zotero-cmd.json
```

2.  æ‰“å¼€å¹¶ç¼–è¾‘`zotero-cmd.json`ã€‚ä¿®æ”¹killZoteroå’ŒstartZoteroä¸ºä½ å¹³å°ä¸Šçš„å¯¹åº”å‘½ä»¤ã€‚é»˜è®¤æä¾›çš„å‘½ä»¤æ˜¯Windowsçš„ã€‚å»ºè®®å°†è·¯å¾„è®¾ä¸ºZotero Betaç‰ˆæœ¬çš„è·¯å¾„ã€‚

```
{
  "killZotero": "taskkill /f /im zotero.exe",        // Windows
  "killZotero": "kill -9 $(ps -x | grep zotero)",    // MacOSåŠLinux
  "startZotero": "/path/to/zotero.exe --debugger --purgecaches" // æ›¿æ¢æˆä½ çš„Zoteroå®‰è£…è·¯å¾„
}
```

ä¸ºäº†è®©Zoteroæ¯æ¬¡ä»ç¼–è¯‘åçš„æºä»£ç `builds/addon`è¯»å–ï¼Œè€Œéä»å‹ç¼©åŒ…xpiå®‰è£…ï¼Œéœ€è¦é…ç½®æ’ä»¶ä»£ç è·¯å¾„ã€‚è¿™åªéœ€è¦æ“ä½œä¸€æ¬¡ã€‚

1.  é€€å‡ºZoteroã€‚
2.  æ‰“å¼€Zoteroé…ç½®æ–‡ä»¶ç›®å½•ï¼ˆåœ¨https://www.zotero.org/support/kb/profile_directoryæ ¹æ®ä½ ä½¿ç”¨çš„æ“ä½œç³»ç»ŸæŸ¥æ‰¾ï¼‰çš„`extensions`æ–‡ä»¶å¤¹ã€‚
3.  åœ¨`extensions`æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªä»¥æ‰©å±•idå‘½åçš„æ–‡æœ¬æ–‡ä»¶ï¼ˆä¾‹å¦‚ï¼Œ`myplugin@mydomain.org`ï¼Œæ­¤å¤„åº”ä¸`package.json`ä¸­çš„addonIDä¸€è‡´). æ–‡ä»¶å†…å®¹æ˜¯æ’ä»¶ç¼–è¯‘åçš„æºä»£ç ç»å¯¹è·¯å¾„ï¼ˆä¾‹å¦‚ï¼Œ`æ’ä»¶è·¯å¾„/builds/addon`ï¼‰ã€‚
4.  è¿”å›ä¸Šä¸€çº§ï¼ˆZoteroé…ç½®æ–‡ä»¶ç›®å½•ï¼‰ï¼Œæ‰“å¼€`prefs.js`ï¼Œå¹¶åˆ é™¤åŒ…å«extensions.lastAppBuildId å’Œextensions.lastAppVersionçš„è¡Œã€‚ä¿å­˜æ–‡ä»¶å¹¶é‡æ–°å¯åŠ¨Zoteroã€‚è¿™å°†å¼ºåˆ¶Zoteroè¯»å–â€œextensionsâ€ç›®å½•å¹¶ä»æºä»£ç å¤„å®‰è£…æ’ä»¶ï¼Œä¹‹åæ‚¨å°†åœ¨èœå•æ =>å·¥å…·=>é™„åŠ ç»„ä»¶ä¸­çœ‹åˆ°æ’ä»¶ã€‚

ä¸Šè¿°æ­¥éª¤å‚è€ƒ[https://www.zotero.org/support/dev/client\_coding/plugin\_development#setting\_up\_a\_plugin\_development_environment](https://www.zotero.org/support/dev/client_coding/plugin_development#setting_up_a_plugin_development_environment)ã€‚

# ä¸€é”®ç¼–è¯‘å¹¶æ›´æ–°ä»£ç 

ç°åœ¨ä½ å¯ä»¥ä½¿ç”¨`npm run restart`æ¥ä¸€é”®ç¼–è¯‘ï¼Œé‡å¯Zoteroå¹¶æ›´æ–°æ’ä»¶ä»£ç ï¼

å¦‚æœé…ç½®æ­£ç¡®ï¼Œå°†ä¼šçœ‹åˆ°ï¼š

1.  å½“å‰Zoteroè¿›ç¨‹é€€å‡º
2.  æ’ä»¶é‡æ–°ç¼–è¯‘
3.  Zoteroé‡æ–°æ‰“å¼€ï¼Œå…¶ä¸­çš„æ’ä»¶ä»£ç å·²ç»æ›´æ–°

å¦‚æœä½ ä½¿ç”¨VSCodeï¼Œåœ¨`.vscode/launch.json`ä¸­è®¾ç½®ï¼š

```
{
    "version": "0.2.0",
    "configurations": [
        {
            "type": "node",
            "request": "launch",
            "name": "Restart",
            "runtimeExecutable": "npm",
            "runtimeArgs": ["run", "restart"],
        }
    ]
}
```

æŒ‰F5å³å¯è§¦å‘ä¸€é”®ç¼–è¯‘å¹¶æ›´æ–°ä»£ç ã€‚